<!DOCTYPE html>
<html lang="{{ meta.lang or site.lang }}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Open Graph meta tags -->
    <meta property="og:title" content="{{ title }}" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="{{ url }}" />
    <meta property="og:image" content="{{ image | url | absoluteUrl(site.home) }}" />
    <meta property="og:description" content="{{ description }}" />
    <title>{{ site.title }} - {{ title or meta.title }}</title>
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="{{ '/dist/app.css' | url }}" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T4DCQE192P"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-T4DCQE192P");
    </script>
    {% include "meta.njk" %}
  </head>

  <body class="d-flex flex-column min-vh-100">
    <!-- skiplinks -->
    <a href="#main" class="visually-hidden-focusable">Skip to main content</a>

    {% include "header.njk" %}

    <main id="main">
      <div class="container py-4">
        <div class="row">
          <div class="col-md-10 mx-auto">
            {% if image %}
            <img src="{{ image }}" class="featured-image-post" />
            {% endif %}
            <h1>{{ title }}</h1>
            {% if date %}
            <p class="post-date">
              Posted: {{ date }}
              {% if tags %} in {% set filteredTags = [] %} {% for item in tags %} {% if item !== 'posts' %} {% set
              filteredTags = filteredTags.concat(item) %} {% endif %} {% endfor %} {% if filteredTags.length == 1 %}
              <a href="/tags/{{ filteredTags[0] }}">{{ filteredTags[0] }}</a>
              {% else %} {% for item in filteredTags %}
              <a href="/tags/{{ item }}">{{ item }}</a
              >{% if loop.index != filteredTags.length %}, {% endif %} {% endfor %} {% endif %} {% endif %}
            </p>
            {% endif %}
            {{ content | safe }}
          </div>
        </div>
      </div>
    </main>

    {% include "footer.njk" %}
    <script type="text/javascript" src="{{ '/dist/app.js' | url }}"></script>
  </body>
</html>
