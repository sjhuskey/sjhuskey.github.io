<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Samuel J. Huskey - Using the OHMS Viewer with DDEV</title>
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="/dist/app.css" />
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T4DCQE192P"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-T4DCQE192P');
    </script>
    


<meta name="description" content="Samuel J. Huskey&#39;s Personal Website">


<meta property="og:site_name" content="Samuel J. Huskey">
<meta property="og:title" content="Samuel J. Huskey">
<meta property="og:description" content="Samuel J. Huskey&#39;s Personal Website">
<meta property="og:url" content="https://sjhuskey.github.io/posts/ohms/">
<meta property="og:locale" content="">


<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Using the OHMS Viewer with DDEV">
<meta name="twitter:description" content="Samuel J. Huskey&#39;s Personal Website">




<link rel="icon" href="/assets/favicons/favicon.ico">



  </head>

  <body class="d-flex flex-column min-vh-100">
    <!-- skiplinks -->
    <a href="#main" class="visually-hidden-focusable">Skip to main content</a>

    <div id="header-container">
  <div class="container py-6">
    <header class="pb-5 mb-4">
      <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container w-75 mx-auto border-bottom">
          <a href="/" class="d-flex align-items-center text-light text-decoration-none">
              <title>Samuel J. Huskey</title>
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"
                fill="currentColor"
              ></path>
            </svg>
            <span class="fs-4">Samuel J. Huskey</span>
          </a>
          <button
            class="navbar-toggler navbar-dark"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">





<ul class="navbar-nav ms-auto">
    <li class="nav-item">
        <a class="nav-link" href="/about">About</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/about/cv.html">CV</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/about/dh.html">DH</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/about/tech.html">Tech</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/posts">Blog</a>
    </li>
</ul>


</div>
        </div>
      </nav>
    </header>
  </div>
</div>

    <main id="main">
      <div class="container py-4">
        <div class="row">
          <div class="col-md-10 mx-auto">
            
            <img src="/assets/images/tech.jpg" class="featured-image-post" />
            
            <h1>Using the OHMS Viewer with DDEV</h1>
            <p>A colleague asked me to help her get started using the <a href="https://www.oralhistoryonline.org/">Oral History Metadata Synthesizer's</a> <a href="https://github.com/uklibraries/ohms-viewer">OHMS Viewer</a>. It is meant to integrate with a CMS, but she just needs to see how it works for now. Instead of going through the trouble of setting up access to a remote server, I decided to see if I could get it working with <a href="https://ddev.com/">DDEV</a>, a super-easy-to-use application for developing web sites locally (i.e., on a laptop or desktop computer).</p>
<h2>Prerequisites</h2>
<ul>
<li>Comfort using a Command Line Interface (e.g., Terminal).</li>
<li><a href="https://www.docker.com/">Docker</a>. The instructions for different operating systems are available at <a href="https://ddev.readthedocs.io/en/stable/users/install/docker-installation/">https://ddev.readthedocs.io/en/stable/users/install/docker-installation/</a>.</li>
<li><a href="https://ddev.com/">DDEV</a>: Instructions are at <a href="https://ddev.readthedocs.io/en/stable/users/install/ddev-installation/">https://ddev.readthedocs.io/en/stable/users/install/ddev-installation/</a>.</li>
<li>OHMS Viewer: Download the latest release at <a href="https://github.com/uklibraries/ohms-viewer/releases">https://github.com/uklibraries/ohms-viewer/releases</a>. It is available as a <code>zip</code> or <code>tar.gz</code> archive. I'm working with the <code>tar.gz</code> file.</li>
<li>An account on <a href="https://www.aviaryplatform.com/">Aviary</a>.</li>
</ul>
<h2>Set up a PHP environment with DDEV</h2>
<ol>
<li>Make a new directory called <code>ohms</code>: <code>mkdir ohms</code>. I put mine in <code>~/Sites</code>.</li>
<li>Change into the new directory and run the following command: <code>ddev config</code>. This will launch a dialog. You can just press the <code>return</code> key for the first two prompts (<code>Project name:</code> and <code>Docroot Location</code>), but be sure to enter <code>php</code> for the third prompt (<code>Project Type</code>).</li>
<li>Execute the command <code>ddev start</code>.</li>
</ol>
<p>At this point, there should be a bare site that you can visit by opening a web browser and going to <code>http://ohms.ddev.site</code>. You'll probably see the message <strong>403 Forbidden</strong>. That's okay.</p>
<h2>Copy the OHMS Viewer files into the PHP Environment</h2>
<ol>
<li>Extract the OHMS Viewer archive to your PHP environment: <code>tar -xvf ohms-viewer-3.9.3.tar.gz -C ~/Sites/ohms</code>.</li>
<li>Rename the new directory <code>ohms-viewer</code>: <code>mv ohms-viewer-3.9.3 ohms-viewer</code>.</li>
</ol>
<h2>Make a cachefiles Directory</h2>
<ol>
<li>Change into <code>ohms-viewer</code>.</li>
<li>Create a new directory called <code>cachefiles</code> (<code>mkdir cachefiles</code>).</li>
</ol>
<p>This is where you'll eventually put your OHMS XML files.</p>
<h2>Edit the OHMS Viewer's Config File</h2>
<ol>
<li>Change into the <code>config</code> directory within <code>ohms-viewer</code>: <code>cd ~/Sites/ohms/ohms-viewer/config</code>.</li>
<li>Make a copy of <code>config.template.ini</code> and call it <code>config.ini</code>.</li>
<li>Using a text editor, edit the content of <code>config.ini</code>. Change the first line to read <code>tmpDir = cachefiles</code>. The rest of the file can be left as it is.</li>
<li>Save <code>config.ini</code>.</li>
</ol>
<h2>Test the Viewer</h2>
<p>For this step, you'll need an OHMS XML file from an OHMS collection on <a href="https://www.aviaryplatform.com/">Aviary</a>. To obtain an XML file, you'll need to create an OHMS record in the OHMS Studio. When the record is complete, you should be able to click on the three vertical dots on the far right of the row and select &quot;Export XML&quot;.</p>
<p>Put the XML file into the <code>cachefiles</code> directory created above.</p>
<p>You should now be able to use a web browser to navigate to <code>http://ohms.ddev.site/ohms-viewer/viewer.php?cachefile=YOUR-XML-FILE.xml</code> to see the record in the OHMS Viewer. Be sure to replace <code>YOUR-XML-FILE</code> with the actual name of your file.</p>

            
          <div id="taglist" class="mx-auto">
              <h2>Filed under</h2>
              <ul>
                
                
                <li>
                  <a href="/tags/OHMS">OHMS</a>
                </li>
                
                
                
                
              </ul>
            </div>
          </div>
          
          </div>
        </div>
      </div>
    </main>

    <footer class="mt-auto">
  <div class="container w-75 mx-auto">
    <div class="row">
      <div class="col-8">
        <p class="footerinfo">
          Â©2024 Samuel J. Huskey | Contact: <a href="mailto:huskey@ou.edu">huskey@ou.edu</a> |
          <a rel="me" href="https://hcommons.social/@sjhuskey">@sjhuskey@hcommons.social</a>
        </p>
      </div>
      <div class="col-4">
        <div id="socialicons">
          <a href="https://github.com/sjhuskey" target="_blank" rel="noopener noreferrer"
            ><svg
              class="niftybutton-github"
              data-donate="true"
              data-tag="git"
              data-name="Github"
              viewBox="0 0 512 512"
              preserveAspectRatio="xMidYMid meet"
            >
              <path
                d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"
              ></path></svg></a
          ><a href="https://www.linkedin.com/in/sjhuskey/" target="_blank" rel="noopener noreferrer"
            ><svg
              class="niftybutton-linkedin"
              data-donate="true"
              data-tag="lin"
              data-name="LinkedIn"
              viewBox="0 0 512 512"
              preserveAspectRatio="xMidYMid meet"
            >
              <path
                d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"
              ></path></svg
          ></a>
        </div>
      </div>
    </div>
  </div>
</footer>

    <script type="text/javascript" src="/dist/app.js"></script>
  </body>
</html>
